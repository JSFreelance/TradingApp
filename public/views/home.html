
<button ng-click="createTrade()" type="button" class="btn btn-primary pull-right">New Trade</button>
<br>
<br>

<div id="createTradeForm" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">New Trade</h4>
            </div>
            <div class="modal-body">

                <div class="new-trade-label">
                    <label class="sell-currency">Sell Currency</label>
                    <label class="rate">Rate</label>
                    <label>Buy Currency</label>
                </div>

                <div class="currency-area">

                    <select class="form-control" ng-model="initialCurrency"
                            ng-options="currency for currency in currencies"
                            ng-change="updateRate()">
                    </select>

                    <img src="img/arrow-right.png">
                    <label class="rate-label">{{ currentRate }}</label>
                    <img src="img/arrow-right.png">

                    <select class="form-control" ng-model="targetCurrency"
                            ng-options="currency for currency in currencies"
                            ng-change="updateRate()">
                    </select>

                </div>

                <div class="amount-label">
                    <label class="label-margin">Sell Amount</label>
                    <label>Buy Amount</label>
                </div>
                <div class="amount-text-field">
                    <input type="number" step="0.01" placeholder="Amount" class="form-control text-margin"
                           ng-model="sellAmount" ng-change="updateRate()">
                    <input type="number" step="0.01" class="form-control"  ng-model="buyAmount" readonly>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="newTrade()">Create</button>
            </div>
        </div>
    </div>
</div>

<div id="editTradeForm" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <p class="modal-title">Editing Trade</p> <b>{{editedTradeId}}</b>
            </div>
            <div class="modal-body">

                <div class="new-trade-label">
                    <label class="sell-currency">Sell Currency</label>
                    <label class="rate">Rate</label>
                    <label>Buy Currency</label>
                </div>

                <div class="currency-area">
                    <h4>{{savedSellCurrency}}</h4>

                    <img src="img/arrow-right.png">
                    <label>{{savedRate}}</label>
                    <img src="img/arrow-right.png">
                    <h4>{{savedBuyCurrency}}</h4>
                </div>

                <div class="amount-label">
                    <label class="label-margin">Sell Amount</label>
                    <label>Buy Amount</label>
                </div>
                <div class="amount-text-field">
                    <input type="number" step="0.01" placeholder="Amount" class="form-control text-margin" ng-model="savedSellAmount">
                    <input type="number" step="0.01" class="form-control" ng-model="savedBuyAmount" readonly>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="saveEditedTrade()">Save</button>
            </div>
        </div>
    </div>
</div>

<div id="deleteTradeForm" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <p class="modal-title">Deleting Trade</p> <b>{{tradeDeletedId}}</b>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this trade?</p>
                <p>This change can't be reversed</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="deleteTradeConfirm()">Delete</button>
            </div>
        </div>
    </div>
</div>

<div class="panel panel-default">
    <table class="table">
        <thead>
        <tr>
            <th>Sell CCY</th>
            <th>Sell Amount</th>
            <th>Buy CCY</th>
            <th>Buy Amount</th>
            <th>Rate</th>
            <th>Date Booked</th>
            <th>Actions</th>
        </tr>
        </thead>

        <tbody>
        <tr ng-repeat="trade in trades">
            <td>{{trade.sell_currency}}</td>
            <td>{{trade.sell_amount}}</td>
            <td>{{trade.buy_currency}}</td>
            <td>{{trade.buy_amount}}</td>
            <td>{{trade.rate}}</td>
            <td>{{trade.booking_date | date : "dd.MM.y HH:mm"}}</td>
            <td>
                <button  ng-click="editTrade(trade.id)"><img src="img/pencil.png"></button>
                <button  ng-click="deleteTrade(trade.id)" ><img src="img/delete.png"></button>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<uib-pagination class="uib-pagination" total-items="totalItems"
                ng-model="currentPage"  boundary-links="true"
                ng-change="pageChanged()" items-per-page="5"></uib-pagination>
